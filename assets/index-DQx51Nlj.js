import{r as o}from"./index-Bi5p59OB.js";import{g as x}from"./index-BvSoWoVY.js";let c=typeof document<"u"?o.useLayoutEffect:o.useEffect,p=e=>e&&!Array.isArray(e)&&typeof e=="object",u=[],S={},a=x;const m=(e,t=u)=>{let r=S;p(e)?(r=e,e=null,t="dependencies"in r?r.dependencies:u):p(t)&&(r=t,t="dependencies"in r?r.dependencies:u),e&&typeof e!="function"&&console.warn("First parameter must be a function or config object");const{scope:f,revertOnUpdate:g}=r,s=o.useRef(!1),n=o.useRef(a.context(()=>{},f)),y=o.useRef(d=>n.current.add(null,d)),i=t&&t.length&&!g;return i&&c(()=>(s.current=!0,()=>n.current.revert()),u),c(()=>{if(e&&n.current.add(e,f),!i||!s.current)return()=>n.current.revert()},t),{context:n.current,contextSafe:y.current}};m.register=e=>{a=e};m.headless=!0;export{m as u};
//# sourceMappingURL=index-DQx51Nlj.js.map
